let express,parse,homePage,food,meet;_834‍.w("express",[["default",["express"],function(v){express=v}]]);_834‍.w("querystring",[["parse",["parse"],function(v){parse=v}]]);_834‍.w("./content",[["homePage",["homePage"],function(v){homePage=v}],["food",["food"],function(v){food=v}],["meet",["meet"],function(v){meet=v}]]);


const app = express()

const isPalindrome = str => {
    let trimAndPrepare = str.toLowerCase().trim().replace(/[\W_]/g, "")
    return trimAndPrepare === trimAndPrepare.split("").reverse().join("")
}

api.get("/", (req, res) => {
    res.status(200).send(homePage)
})
api.get("/food", (req, res) => {
    res.status(200).send(food)
})
api.get("/meet", (req, res) => {
    res.status(200).send(meet)
})

app.get("/", (req, res) => {
    res.status(200).send("<h1>Blog Chef says Hello!</h1>")
})

app.post("/palindrome", (req, res) => {
    let body = "";
    req.on('data', data => {
        body += data
    })

    req.on("end", () => {
        let { word } = parse(body)
        res.send(word ? {word, isPalindrome: isPalindrome(word)} : {message: "No word supplied!"})
    })

   
})

app.listen(3000, () => console.log("Blog chef is cooking on port 3000"))    